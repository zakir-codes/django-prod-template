**django-template**

This template is designed to accelerate Django development by providing a pre-configured setup with Docker, Poetry for dependency management, and essential development tools.

**Description**

This project provides a streamlined starting point for Django projects. It leverages Docker for containerization, ensuring consistent environments across different machines, and Poetry for robust dependency management. The included Makefile simplifies common development tasks like building the Docker image and running the application. The project structure is set up to include individual Django applications within an `apps` directory, and it comes pre-configured with `drf-spectacular` for automatic API documentation.

**Features**

* **Docker Integration:** Easily build and run your Django application within a Docker container.
* **Poetry for Dependency Management:** Manage your project's dependencies efficiently and reliably with Poetry.
* **Containerized Development Environment:** Ensure consistency and avoid "it works on my machine" issues.
* **Makefile for Common Tasks:** Simplifies building, running, and managing the Docker container.
* **Pre-configured Development Tools:** Includes Black, isort, and flake8 for code formatting and linting.
* **DRF and drf-spectacular Included:** Quickly start building REST APIs with Django REST Framework and generate interactive API documentation (Swagger UI) automatically using drf-spectacular.
* **Environment Variable Management:** Uses `django-environ` for managing settings via environment variables.
* **Modular App Structure:** Designed to include individual Django applications within an `apps` directory.

**Prerequisites**

* Docker and Docker Compose installed on your system.
* Python 3.12 installed (for local development if not using Docker exclusively).
* Poetry installed (for local development if not using Docker exclusively).

**Getting Started**

1.  **Clone the repository:**
    ```bash
    git clone <repository_url>
    cd django-template
    ```

2.  **Create a `.env` file:**
    Use the `.env.example` file to create a `.env` file in the root directory of the project and add your environment variables. At a minimum, you'll likely need to populate:
    ```env
    DJANGO_SECRET_KEY=your_secret_key_here
    ```
    Refer to your Django project's settings for other necessary variables.

3.  **Build the Docker image:**
    Use the provided Makefile to build the Docker image.
    ```bash
    make build
    ```
    This command uses `docker compose build --no-cache backend` to build the `backend` service defined in `docker-compose.yml`.

4.  **Run the application:**
    Start the Django application in a Docker container using the Makefile.
    ```bash
    make up
    ```
    This command uses `docker compose up backend -d` to start the `backend` service in detached mode. The application will be accessible at `http://localhost:8000`.

**Accessing the Application and API Docs**

Once the container is running (`make up`):

* Your Django application will be available at `http://localhost:8000/`.
* The Django Admin interface is at `http://localhost:8000/admin/`.
* The interactive API documentation (Swagger UI) generated by `drf-spectacular` is available at `http://localhost:8000/`.
* If you have an app named `app_1` with configured URLs, they would typically be accessed under `http://localhost:8000/app_1/`.

**Makefile Commands**

The included `Makefile` provides several convenient commands:

* `make build`: Builds the Docker image for the `backend` service.
* `make up`: Starts the `backend` service container in detached mode.
* `make down`: Stops and removes the `backend` service container.
* `make run_server`: Connects to the running container's shell (`sh`). Useful for running management commands like migrations.
* `make status`: Shows the status of all Docker containers.
* `make logs`: Displays the logs of the `backend` service container.
* `make local-launch`: Runs the Django development server directly on your local machine using Poetry. Requires Python and Poetry to be installed locally and dependencies installed via `poetry install`.

**Project Structure**

The project includes the following key files and directories:

* `docker-compose.yml`: Defines the Docker services (currently only the `backend`).
* `Dockerfile`: Specifies how to build the Docker image for the Django application.
* `Makefile`: Contains shortcuts for common Docker and development tasks.
* `pyproject.toml`: Manages project dependencies using Poetry.
* `.env`: (You need to create this) Stores environment variables for the application.
* `config/`: Contains the main Django project settings and URL configurations.
    * `urls.py`: Defines the main URL patterns, including admin, app includes, and API schema/UI paths.
    * `settings.py`: Project settings.
* `apps/`: Directory intended for holding individual Django applications (e.g., `apps/app_1/`).

**Dependencies**

The project uses Poetry for dependency management. Key dependencies are listed in `pyproject.toml`:

* `django`: The web framework.
* `djangorestframework`: For building REST APIs.
* `django-environ`: For managing environment variables.
* `drf-spectacular`: For generating OpenAPI schema and interactive documentation (Swagger UI, Redoc) for DRF APIs.

Development dependencies include:

* `black`: Code formatter.
* `isort`: Import sorter.
* `flake8`: Linter.
* `pytest`: Testing framework.

**Running Management Commands**

To run Django management commands (e.g., `makemigrations`, `migrate`, `createsuperuser`) inside the running container, use:

```bash
make run_server